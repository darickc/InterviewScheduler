@using Microsoft.AspNetCore.Components.Authorization

<AuthorizeView>
    <Authorized>
        <div class="touch-target w-10 h-10 bg-primary-600 hover:bg-primary-700 rounded-full flex items-center justify-center transition-colors duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2" 
             tabindex="0"
             role="button"
             aria-label="User avatar for @context.User.Identity?.Name">
            <span class="text-white font-medium text-sm select-none">
                @GetInitials(context.User.Identity?.Name ?? "")
            </span>
        </div>
    </Authorized>
</AuthorizeView>

@code {
    private string GetInitials(string name)
    {
        if (string.IsNullOrEmpty(name)) return "U";
        
        var parts = name.Split(' ', StringSplitOptions.RemoveEmptyEntries);
        if (parts.Length >= 2)
        {
            return $"{parts[0][0]}{parts[1][0]}".ToUpper();
        }
        return parts[0][0].ToString().ToUpper();
    }
}